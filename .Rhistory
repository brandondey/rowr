str(cbind(as.matrix(list(1,2,3))))
str(cbind.data.frame(as.matrix(list(1,2,3))))
cbind.fill<-function(...,fill=NULL)
{
inputs<-list(...)
maxlength<-max(unlist(lapply(inputs,len)))
bufferedInputs<-lapply(inputs,buffer,length.out=maxlength,fill,preserveClass=FALSE)
return(Reduce(cbind.data.frame,bufferedInputs))
}
cbind.fill(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df)
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df,fill=NA)
buffer(list(1,2,3),4)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-as.matrix(x)
results<-as.matrix(lapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(list(1,2,3),4)
lapply(as.matrix(list(1,2,3)),force)
lapply(c(1,2,3),force)
lapply(as.matrix(c(1,2,3)),force)
lapply(as.data.frame(c(1,2,3)),force)
list(1,2,3)
as.matrix(list(1,2,3))
c(1,2,3)
as.matrix(c(1,2,3))
as.factor(as.matrix(c(1,2,3)))
as.factor(as.matrix(list(1,2,3)))
str(as.matrix(c(1,2,3)))
str(as.matrix(list(1,2,3)))
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-as.matrix(x)
results<-as.data.frame(as.matrix(lapply(input,rep,length.out=length.out)))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(list(1,2,3),4)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-as.data.frame(as.matrix(x))
results<-as.matrix(lapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(list(1,2,3),4)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-cbind(as.matrix(x))
results<-as.matrix(lapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(list(1,2,3),4)
cbind(as.matrix(list(1,2,3)))
str(cbind(as.matrix(list(1,2,3))))
as.list(cbind(as.matrix(list(1,2,3))))
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(x))
results<-as.data.frame(lapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
results<-as.matrix(results)
if(preserveClass)
if(xclass=='data.frame')
results<-as.data.frame(results)
else
results<-as(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(x))
results<-as.data.frame(lapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
results<-as.matrix(results)
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
factor(x=c('Hello'))
cbind(factor(x=c('Hello')))
cbind(as.matrix(factor(x=c('Hello'))))
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(as.matrix(x)))
results<-as.data.frame(lapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
cbind.fill(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df)
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df,fill=NA)
cbind.fill(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df)
cbind.fill(a=c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df,fill=NA)
df
buffer(df,5)
cbind.fill(df)
cbind.fill(list(1,2,3))
buffer(list(1,2,3))
buffer(list(1,2,3),4)
buffer(list(1,2,3),4,preserveClass=FALSE)
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
cbind(as.matrix(list(1,2,3)))
t(cbind(as.matrix(list(1,2,3))))
t(t(cbind(as.matrix(list(1,2,3)))))
data.frame(t(t(cbind(as.matrix(list(1,2,3))))))
data.frame(cbind(as.matrix(list(1,2,3))))
lapply(data.frame(cbind(as.matrix(list(1,2,3)))),force)
as.data.frame(lapply(data.frame(cbind(as.matrix(list(1,2,3)))),force))
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(as.matrix(x)))
results<-as.data.frame(cbind(lapply(input,rep,length.out=length.out)))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
#'buffer(c(1,2,3),20)
#'buffer(matrix(c(1,2,3,4),nrow=2),20)
#'buffer(list(1,2,3),20)
#'df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
#'buffer(df,5)
#'buffer((factor(x=c('Hello'))),5)
buffer<-function(x,length.out=len(x)
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(as.matrix(x)))
results<-cbind(as.data.frame(lapply(input,rep,length.out=length.out)))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
buffer(list(1,2,3),4)
buffer(list(1,2,3),4,preserveClass=FALSE)
cbind(buffer(list(1,2,3),4,preserveClass=FALSE))
cbind(buffer(list(1,2,3),4,preserveClass=FALSE))
cbind(list(1,2,3))
data.frame(cbind(list(1,2,3)))
lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3)
as.data.frame(lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3))
t(as.data.frame(lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3)))
cbind(lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3)))
cbind(lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3))
as.matrix((lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3)))
(lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3))
unlist(lapply(data.frame(cbind(list(1,2,3))),rep,length.out=3),recursive=FALSE)
unlist(lapply(data.frame(cbind(c(1,2,3)),rep,length.out=3),recursive=FALSE)
unlist(lapply(data.frame(cbind(c(1,2,3)),rep,length.out=3),recursive=FALSE))
unlist(lapply(data.frame(cbind(c(1,2,3))),rep,length.out=3),recursive=FALSE)
cbind(unlist(lapply(data.frame(cbind(c(1,2,3))),rep,length.out=3),recursive=FALSE))
as.data.frame(cbind(unlist(lapply(data.frame(cbind(c(1,2,3))),rep,length.out=3),recursive=FALSE)))
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(as.matrix(x)))
results<-as.data.frame(cbind(unlist(lapply(input,rep,length.out=length.out),recursive=FALSE)))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(cbind(as.matrix(x)))
results<-as.data.frame(sapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
cbind.fill(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df)
cbind.fill(a=c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df,fill=NA)
cbind.fill(list(1,2,3))
cbind.fill(c(1,2,3))
str(cbind.fill(list(1,2,3)))
str(cbind.fill(c(1,2,3)))
cbind(v=c(1,2,3),v=c(1,2,3))
data.frame(v=c(1,2,3),v=c(1,2,3))
buffer(df)
df
??useNames
names(df)
names(c(1,2,3))
names(c(1,2,3),c(1,2,3))
names(cbind(c(1,2,3),c(1,2,3)))
df
names(df)<-'V'
df
colnames(df)
names(df)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
names(df)
colnames(cbind(c(1,2,3),c(1,2,3)))
is.null(colnames(cbind(c(1,2,3),c(1,2,3))))
vert<-function(object)
{
nms<-names(object)
result<-cbind(as.matrix(object))
if(is.null(nms))
nms<-'V'
names(result)<-nms
names(result)[is.na(names(result))]<-'V'
return(result)
}
vert(list(1,2,3))
names(list(1,2,3))
names(as.matrix(list(1,2,3)))
names(cbind(as.matrix(list(1,2,3))))
a<-cbind(as.matrix(list(1,2,3)))
names(a)
names(a)<-'V'
a
vert<-function(object)
{
nms<-colnames(object)
result<-cbind(as.matrix(object))
if(is.null(nms))
nms<-'V'
colnames(result)<-nms
colnames(result)[is.na(colnames(result))]<-'V'
return(result)
}
vert(list(1,2,3))
vert(c(1,2,3))
vert(df)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-vert(x)
results<-as.data.frame(sapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-data.frame(vert(x))
results<-as.data.frame(sapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
vert(matrix(c(1,2,3,4),nrow=2))
colnames(matrix(c(1,2,3,4),nrow=2))
as.matrix(matrix(c(1,2,3,4),nrow=2))
cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))
colnames(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2))))
colnames(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2))))<-'V'
names(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2))))<-'V'
colnames(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2))))<-'V'
colnames(data.frame(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))))<-'V'
colnames(data.frame(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))))
data.frame(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2))))
data.frame(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2))))
data.frame(cbind(as.matrix(list(1,2,3))))
colnames(data.frame(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))))
colnames(data.frame(cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))))
colnames((cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))))
colnames((cbind(as.matrix(matrix(c(1,2,3,4),nrow=2)))))<-'V'
vert(matrix(c(1,2,3,4),nrow=2))
vert<-function(object)
{
nms<-colnames(object)
print(nms)
result<-cbind(as.matrix(object))
print(result)
if(is.null(nms))
nms<-'V'
colnames(result)<-nms
print(nms)
colnames(result)[is.na(colnames(result))]<-'V'
print(result)
return(result)
}
vert(matrix(c(1,2,3,4),nrow=2))
as.data.frame(matrix(c(1,2,3,4),nrow=2))
as.data.frame(cbind(matrix(c(1,2,3,4),nrow=2)))
as.data.frame(cbind(as.matrix(df)))
df
as.matrix(as.data.frame(cbind(matrix(c(1,2,3,4),nrow=2))))
vert<-function(object)
{
result<-as.data.frame(cbind(as.matrix(object)))
return(result)
}
buffer<-function(x,length.out=len(x),fill=NULL,preserveClass=TRUE)
{
xclass<-class(x)
input<-vert(x)
results<-as.data.frame(sapply(input,rep,length.out=length.out))
if(length.out>len(x) && !is.null(fill))
{
results<-t(results)
results[(length(unlist(x))+1):length(unlist(results))]<-fill
results<-t(results)
}
if(preserveClass)
results<-as2(results,xclass)
return(results)
}
buffer(c(1,2,3),20)
buffer(matrix(c(1,2,3,4),nrow=2),20)
buffer(list(1,2,3),20)
df<-data.frame(as.factor(c('Hello','Goodbye')),c(1,2))
buffer(df,5)
buffer((factor(x=c('Hello'))),5)
cbind.fill(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df)
cbind.fill(a=c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df,fill=NA)
vectorize(`+`)(c(1,2,3))
vectorize(sum)(c(1,2,3),c(1,2,3))
# Compare these results to Vectorize, which does not vectorize sum at all.
Vectorize(sum)(c(1,2,3),c(1,2,3))
# Across data frame columns.
df<-data.frame(a=c(1,2,3),b=c(1,2,3))
vectorize(sum)(df$a,df$b)
# Once again, Vectorize gives a different result
Vectorize(sum)(df$a,df$b)
# Any combination of vectors, lists, matrices, or data frames an be used.
vectorize(`+`)(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
df
cbind.fill(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
df<-data.frame(a=c(1,2,3),b=c(1,2,3))
cbind.fill(c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df)
cbind.fill(a=c(1,2,3),list(1,2,3),cbind(c('a','b')),'a',df,fill=NA)
as2(list(1,2,3),'numeric')
as2(list(1,2,3),'character')
as2(list(1,2,3),''character')'data.frame')'
as2(list(1,2,3),''character')'data.frame')
as2(list(1,2,3),''character'),'data.frame')
as2(list(1,2,3),'data.frame')
?as
df<-read.table(file='clipboard',sep='\t',header=TRUE)
df
df<-read.table(file='clipboard',sep='\t',header=TRUE)
df
library(RODBC)
xj=odbcConnect(dsn='analyticsETL')
library(rowr)
sqlSave(xj,dat=df,tablename='GESTATIONAL_AGE',rownames=FALSE)
xj=odbcConnect(dsn='analyticsETL')
sqlSave(xj,dat=df,tablename='GESTATIONAL_AGE',rownames=FALSE)
vectorize(`+`)(c(1,2,3))
vectorize(sum)(c(1,2,3),c(1,2,3))
# Compare these results to Vectorize, which does not vectorize sum at all.
Vectorize(sum)(c(1,2,3),c(1,2,3))
# Across data frame columns.
df<-data.frame(a=c(1,2,3),b=c(1,2,3))
vectorize(sum)(df$a,df$b)
# Once again, Vectorize gives a different result
Vectorize(sum)(df$a,df$b)
# Any combination of vectors, lists, matrices, or data frames an be used.
vectorize(`+`)(c(1,2,3),list(1,2,3),cbind(c(1,2,3)))
rows(c('A','B','C'),c(1,3))
rows(list('A','B','C'),c(1,3))
df<-data.frame(a=c(1,2,3),b=c(1,2,3))
rows(df,3)
