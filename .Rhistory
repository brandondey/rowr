library(rowr)
vectorize
coalesce(c(NA,1,2))
oalesce(c(NA,1,2),c(3,4,NA))
coalesce(c(NA,1,2),c(3,4,NA))
df<-data.frame(a=c(NA,2,3),b=c(1,2,NA))
coalesce(df$a,df$b)
apply(c(1,2,3),1,function (z) Reduce(function (x,y) if(!is.na(x)) x else y),unlist(z)))
apply(c(1,2,3),1,function (z) Reduce(function (x,y) if(!is.na(x)) x else y),unlist(z))
apply(cbind(c(1,2,3)),1,function (z) Reduce(function (x,y) if(!is.na(x)) x else y),unlist(z))
apply(cbind(c(1,2,3)),1,function (z) Reduce(function (x,y) if(!is.na(x)) x else y,unlist(z)))
apply(cbind(c(1,2,3)),2,function (z) Reduce(function (x,y) if(!is.na(x)) x else y,unlist(z)))
apply(cbind(c(1,2,3)),c(1,2),function (z) Reduce(function (x,y) if(!is.na(x)) x else y,unlist(z)))
dim(cbind(c(1,2,3)))
dim(c(1,2,3))
dim(c(1,2,3))<2
dim(c(1,2,3))<>2
dim(c(1,2,3))!=2
cols(c(1,2,3))
col(c(1,2,3))
vectorize<-function(fun,type=1)
{
function(...)
{
cols<-cbind.fill(...)
if(dim(cols))
if(type==3)
type=c(1,2)
if(type %in% list(1,2,c(1,2)))
apply(cols,type,function (x) Reduce(fun,unlist(x)))
else
Reduce(fun,unlist(cols))
}
}
vectorize(`+`)(c(1,2,3))
list(1,2,c(1,2))
1 %in% list(1,2,c(1,2))
c(1,2) %in% list(1,2,c(1,2))
apply(cbind(c(1,2,3)),5,force)
apply(cbind(c(1,2,3)),1,force)
apply(cbind(c(1,2,3)),5,force)
c(1,2)<5
hello <4)
hello <4
'hello' <4
'a' <4
vectorize<-function(fun,type=1)
{
function(...)
{
cols<-cbind.fill(...)
if(type==3)
margin=c(1,2)
else
margin=type
if(type %in% c(1,2,3))
apply(cols,margin,function (x) Reduce(fun,unlist(x)))
else
Reduce(fun,unlist(cols))
}
}
vectorize(`+`)(c(1,2,3))
vectorize(sum)(c(1,2,3),c(1,2,3))
Vectorize(sum)(c(1,2,3),c(1,2,3),2)
?ddply
??ddply
??ggplot
?apply
